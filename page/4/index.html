<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="keep exceeding" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="keep exceeding">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="keep exceeding">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="keep exceeding">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/">





  <title>keep exceeding</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">keep exceeding</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/28/文献笔记/CAF-associated-papers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/28/文献笔记/CAF-associated-papers/" itemprop="url">CAF associated papers</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-28T00:00:00+08:00">
                2020-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Fibroblasts-in-cancer"><a href="#Fibroblasts-in-cancer" class="headerlink" title="Fibroblasts in cancer"></a>Fibroblasts in cancer</h1><p>The important functions of fibroblasts include the deposition of extracellular matrix (ECM), regulation of epithelial differentiation, regulation of inflammation, and involvement in wound healing</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/28/文献笔记/CAF-associated-papers/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/28/文献笔记/The-biology-and-function-of-fibroblasts-in-cancer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/28/文献笔记/The-biology-and-function-of-fibroblasts-in-cancer/" itemprop="url">The biology and function of fibroblasts in cancer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-28T00:00:00+08:00">
                2020-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>Fibroblasts are usually quiescent and become activated in a wound healing response. The governing principles of how quiescent, resting fibroblasts become ‘activated’ is still being unravelled, and exciting new information suggests that there might be two types of fibroblast activation profile: ‘reversible’ and ‘irreversible’, determined partly by epigenetic regulation. <font color="#F08080"><strong>Activated fibroblasts were identified predominantly by their expression of α-smooth muscle actin (αSMA; also known as ACTA2)</strong></font></p>
<p>(Fibroblast 一般是静默状态，在组织损伤时会被激活。activated fibroblast又可分为可逆的活化和不可逆的活化)</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/28/文献笔记/The-biology-and-function-of-fibroblasts-in-cancer/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/28/文献笔记/fibroblast-in-cancer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/28/文献笔记/fibroblast-in-cancer/" itemprop="url">fibroblast in cancer</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-28T00:00:00+08:00">
                2020-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><a href="doi:10.1038/nrc1877" target="_blank" rel="noopener">Fibroblasts in cancer</a></p>
<p>The important functions of fibroblasts include the deposition of extracellular matrix (ECM), regulation of epithelial differentiation, regulation of inflammation, and involvement in wound healing</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/09/28/文献笔记/fibroblast-in-cancer/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/气泡图/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/气泡图/" itemprop="url">气泡图</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="create-a-simulated-grouping-variable"><a href="#create-a-simulated-grouping-variable" class="headerlink" title="create a simulated grouping variable"></a>create a simulated grouping variable</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbmc@meta.data$orig.ident &lt;- c(rep(<span class="string">"TAO"</span>, <span class="number">1044</span>), rep(<span class="string">"NC"</span>, <span class="number">5801</span>))</span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<h3 id="translate-cluster-numbers-to-cell-names"><a href="#translate-cluster-numbers-to-cell-names" class="headerlink" title="translate cluster numbers to cell names"></a>translate cluster numbers to cell names</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">current.cluster.ids &lt;- c(c(<span class="number">0</span>,<span class="number">13</span>),c(<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>),c(<span class="number">2</span>),c(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">11</span>),c(<span class="number">9</span>,<span class="number">10</span>),c(<span class="number">12</span>),c(<span class="number">5</span>))</span><br><span class="line">new.cluster.ids &lt;-c(rep(<span class="string">"adipocyte"</span>,<span class="number">2</span>),rep(<span class="string">"fibroblast"</span>,<span class="number">3</span>),<span class="string">"myocyte"</span>,rep(<span class="string">"APC"</span>,<span class="number">4</span>),rep(<span class="string">"lymphocytes"</span>,<span class="number">2</span>),<span class="string">"neutrophil"</span>,<span class="string">"epithelial"</span>)</span><br><span class="line">pbmc@ident &lt;- plyr::mapvalues(x = pbmc@ident, from = current.cluster.ids, to = new.cluster.ids)</span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<h3 id="remove-clusters-that-are-not-of-interest"><a href="#remove-clusters-that-are-not-of-interest" class="headerlink" title="remove clusters that are not of interest"></a>remove clusters that are not of interest</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pbmc_rm &lt;- SubsetData(pbmc, ident.remove = c(<span class="string">"myocyte"</span>,<span class="string">"neutrophil"</span>))</span><br></pre></td></tr></table></figure>
<h6 id="Seurat对象，不能直接用subset取子集"><a href="#Seurat对象，不能直接用subset取子集" class="headerlink" title="Seurat对象，不能直接用subset取子集"></a>Seurat对象，不能直接用subset取子集</h6><p>&nbsp;</p>
<h3 id="SplitDotPlotGG"><a href="#SplitDotPlotGG" class="headerlink" title="SplitDotPlotGG"></a>SplitDotPlotGG</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">markers.to.plot &lt;- c(<span class="string">"CD3D"</span>,<span class="string">"CD19"</span>,<span class="string">"CD27"</span>,<span class="string">"TBX21"</span>,<span class="string">"STAT1"</span>,<span class="string">"GATA3"</span>,<span class="string">"STAT6"</span>,<span class="string">"RORA"</span>,<span class="string">"STAT3"</span>,<span class="string">"AHR"</span>,<span class="string">"IL2RA"</span>,<span class="string">"BCL6"</span>,<span class="string">"SPI1"</span>,<span class="string">"CD14"</span>,<span class="string">"CD68"</span>,<span class="string">"CD1C"</span>,<span class="string">"THBD"</span>,<span class="string">"NCAM1"</span>,<span class="string">"FCGR3A"</span>,<span class="string">"PECAM1"</span>,<span class="string">"MCAM"</span>,<span class="string">"CD34"</span>,<span class="string">"COL1A1"</span>)</span><br><span class="line"></span><br><span class="line">sdp &lt;- SplitDotPlotGG(object=pbmc_rm, grouping.var = <span class="string">"orig.ident"</span>, genes.plot = rev(markers.to.plot), cols.use = c(<span class="string">"blue"</span>, <span class="string">"red"</span>), x.lab.rot = <span class="literal">T</span>, plot.legend = <span class="literal">T</span>, dot.scale = <span class="number">8</span>, do.return = <span class="literal">T</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2018/10/22/5bcd81f459509.png" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/基本数据管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/基本数据管理/" itemprop="url">基本数据管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="创建新变量"><a href="#创建新变量" class="headerlink" title="创建新变量"></a>创建新变量</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mydata &lt;- transform(mydata,</span><br><span class="line">			       mean = (x1 + x2)/<span class="number">2</span></span><br><span class="line">				   sum = x1 + x2)</span><br></pre></td></tr></table></figure>
<h2 id="变量的重编程"><a href="#变量的重编程" class="headerlink" title="变量的重编程"></a>变量的重编程</h2><p><strong><em>within与with相同，但是它允许对数据框进行修改</em></strong></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable[condition] &lt;- expression <span class="comment">###在条件为真时，进行赋值</span></span><br></pre></td></tr></table></figure>
<h2 id="变量的重命名"><a href="#变量的重命名" class="headerlink" title="变量的重命名"></a>变量的重命名</h2><p>1   </p>
<p>使用fix()   调出一个交互式编辑器</p>
<p>2  </p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name(数据框名)[需要修改的名字位置] &lt;- <span class="string">"newname"</span></span><br></pre></td></tr></table></figure>
<p>3</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(plyr)</span><br><span class="line">leadership &lt;- rename(leadership,c(oldname=<span class="string">"newname"</span>))</span><br></pre></td></tr></table></figure>
<h2 id="缺失值"><a href="#缺失值" class="headerlink" title="缺失值"></a>缺失值</h2><p>NA</p>
<p>使用函数<strong><em>is.na()</em></strong>来判断是否存在缺失值</p>
<p>缺失值不能拿来比较</p>
<p>R不把不可能出现的数值或者无限的数设置为缺失值。正无穷，负无穷表示方法：Inf或者-Inf。 不可能的值，如sin(Inf),标记为NaN。判断方法：is.infinite() 或者is.nan()</p>
<h3 id="在分析中排除缺失值"><a href="#在分析中排除缺失值" class="headerlink" title="在分析中排除缺失值"></a>在分析中排除缺失值</h3><p>多数的数值函数，可以用<strong><em>na.rm = TRUE</em></strong>来移除缺失值</p>
<p><strong><em>na.omit()</em></strong>移除含有缺失值的行</p>
<h2 id="日期值"><a href="#日期值" class="headerlink" title="日期值"></a>日期值</h2><p>日期值在R中，先以字符串的形式输入，然后转化为数值</p>
<p>执行这一操作的是：<strong><em>as.Date(x, “Input_format”)</em></strong></p>
<p><strong><em>Sys.Date()</em></strong> 返回当天的时间</p>
<p><strong><em>date()</em></strong> 返回当天的日期和时间</p>
<p><strong><em>format(x, format = “Output_format”) :输出指定格式的日期值</em></strong></p>
<p>日期值可以进行计算</p>
<p>可使用<strong><em>difftime()</em></strong> 计算日期间隔</p>
<p>可以用<strong><em>as.character()</em></strong>将日期值转化为字符</p>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><p><strong><em>is.datatype()</em></strong>  这样的函数，将判断参数的类型</p>
<p><strong><em>as.datatype()</em></strong> 将参数转换为对应的类型</p>
<h2 id="数据排序"><a href="#数据排序" class="headerlink" title="数据排序"></a>数据排序</h2><p><strong><em>order()</em></strong> 进行排序</p>
<p>默认顺序是升序</p>
<p>需要降序时，就在排序变量前加负号</p>
<h2 id="数据集的合并"><a href="#数据集的合并" class="headerlink" title="数据集的合并"></a>数据集的合并</h2><h3 id="向数据集添加列"><a href="#向数据集添加列" class="headerlink" title="向数据集添加列"></a>向数据集添加列</h3><p>横向合并两个数据框，用函数<strong><em>merge()</em></strong>(通过内部联结)</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">total &lt;- merge(dataframeA,  dataframeB, by=<span class="string">"ID"</span>)</span><br></pre></td></tr></table></figure>
<p>如果不指定公共索引，可用cbind合并</p>
<h3 id="向数据集添加行"><a href="#向数据集添加行" class="headerlink" title="向数据集添加行"></a>向数据集添加行</h3><p>rbind</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">total &lt;- rbind(dataframeA,  dataframeB)</span><br></pre></td></tr></table></figure>
<p>在合并前，要先保证两者有相同的变量</p>
<h2 id="数据集提取子集"><a href="#数据集提取子集" class="headerlink" title="数据集提取子集"></a>数据集提取子集</h2><h3 id="选入-保留-变量消息称"><a href="#选入-保留-变量消息称" class="headerlink" title="选入(保留)变量消息称"></a>选入(保留)变量消息称</h3><h3 id="剔除（丢弃）变量"><a href="#剔除（丢弃）变量" class="headerlink" title="剔除（丢弃）变量"></a>剔除（丢弃）变量</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myvars &lt;- names(leadership) %<span class="keyword">in</span>% c(q3，q4)</span><br><span class="line">newdata &lt;-  leadership[!myvars]</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">leadership &lt;- leadership[c(-<span class="number">8</span>,-<span class="number">9</span>)] <span class="comment">##在要去除的项前面加负号</span></span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">leadership$q3 &lt;- leadership$q4 &lt;- <span class="literal">NULL</span></span><br></pre></td></tr></table></figure>
<h3 id="选入观测"><a href="#选入观测" class="headerlink" title="选入观测"></a>选入观测</h3><p>使用行下标</p>
<p>或者用条件判断的方式</p>
<h3 id="subset"><a href="#subset" class="headerlink" title="subset"></a>subset</h3><p>选择变量和观测最简单的方法</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">newdata &lt;- subset(leadership,age &gt;=<span class="number">35</span>| age &lt;<span class="number">24</span>, </span><br><span class="line">				selectc =c(q1:q4))</span><br></pre></td></tr></table></figure>
<p>subset   select</p>
<h3 id="随机抽样"><a href="#随机抽样" class="headerlink" title="随机抽样"></a>随机抽样</h3><p>sample()</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysample &lt;- leadership[sample(<span class="number">1</span>:nrow(leadership), <span class="number">3</span>, replace = False)]</span><br></pre></td></tr></table></figure>
<p>1:nrow(leadership)  :选择范围</p>
<p>3  ：选取3个元素</p>
<p>replace = False   无放回的</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/Convert/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/Convert/" itemprop="url">Convert</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> (from, to, filename, chunk.dims = <span class="string">"auto"</span>, chunk.size = <span class="number">1000</span>, </span><br><span class="line">    overwrite = <span class="literal">FALSE</span>, display.progress = <span class="literal">TRUE</span>, anndata.raw = <span class="string">"raw.data"</span>, </span><br><span class="line">    anndata.X = <span class="string">"data"</span>, <span class="keyword">...</span>) </span><br><span class="line">&#123;</span><br><span class="line">    object.to &lt;- <span class="keyword">switch</span>(EXPR = to, loom = &#123;</span><br><span class="line">        <span class="keyword">stop</span>(<span class="string">"Converting to and from loom files is currently unavailable; we are working on restoring this functionality"</span>)</span><br><span class="line">    &#125;, anndata = &#123;</span><br><span class="line">        .Defunct(new = <span class="string">"WriteH5AD"</span>, msg = <span class="string">"Use WriteH5AD to store Seurat objects as h5ad"</span>)</span><br><span class="line">    &#125;, <span class="keyword">stop</span>(paste0(<span class="string">"Cannot convert Seurat objects to class '"</span>, </span><br><span class="line">        to, <span class="string">"'"</span>)))</span><br><span class="line">    <span class="keyword">return</span>(object.to)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2019/04/03/5ca49d43bf3eb.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/聚类分析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/聚类分析/" itemprop="url">聚类分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="聚类分析的一般步骤"><a href="#聚类分析的一般步骤" class="headerlink" title="聚类分析的一般步骤"></a>聚类分析的一般步骤</h2><p>(1) 选择合适的变量 </p>
<p>(2) 缩放数据 </p>
<p>最常用的方法是将每个变量标准化为均值为0和标准差为1的变量。其他的替代方法包括每个变量被其最大值相除或该变量减去它的平均值并除以变量的平均绝对偏差。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df1 &lt;- apply(mydata, <span class="number">2</span>, <span class="keyword">function</span>(x)&#123;(x-mean(x))/sd(x)&#125;)</span><br><span class="line">df2 &lt;- apply(mydata, <span class="number">2</span>, <span class="keyword">function</span>(x)&#123;x/max(x)&#125;)</span><br><span class="line">df3 &lt;- apply(mydata, <span class="number">2</span>, <span class="keyword">function</span>(x)&#123;(x – mean(x))/mad(x)&#125;)</span><br></pre></td></tr></table></figure>
<p><code>scale</code>与df1效果相当</p>
<p>(3) 寻找异常点 </p>
<p>(4) 计算距离  两个观测值之间最常用的距离量度是欧几里得距离 </p>
<p>(5) 选择聚类算法  层次聚类/划分聚类</p>
<p>(6) 获得一种或多种聚类方法 </p>
<p>(7) 确定类的数目 </p>
<p>(8) 获得最终的聚类解决方案 </p>
<p>(9) 结果可视化 </p>
<p>(10) 解读类 </p>
<p>(11) 验证结果 </p>
<p>&nbsp;</p>
<h2 id="计算距离"><a href="#计算距离" class="headerlink" title="计算距离"></a>计算距离</h2><p><img src="https://i.loli.net/2018/09/20/5ba336cbd341c.jpg" alt></p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d &lt;- dist(nutrient) <span class="comment">###计算距离，默认是欧式距离 结果为一个下三角矩阵</span></span><br><span class="line">as.matrix(d)[<span class="number">1</span>:<span class="number">4</span>,<span class="number">1</span>:<span class="number">4</span>] <span class="comment">###转化为matrix</span></span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<h2 id="层次聚类"><a href="#层次聚类" class="headerlink" title="层次聚类"></a>层次聚类</h2><p>(1) 定义每个观测值（行或单元）为一类； </p>
<p>(2) 计算每类和其他各类的距离；</p>
<p>(3) 把距离最短的两类合并成一类，这样类的个数就减少一个；</p>
<p>(4) 重复步骤(2)和步骤(3)，直到包含所有观测值的类合并成单个的类为止 </p>
<p>&nbsp;</p>
<p><img src="https://i.loli.net/2018/09/20/5ba337bd9cfc1.jpg" alt></p>
<p>&nbsp;</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data(nutrient, package=<span class="string">"flexclust"</span>)</span><br><span class="line">row.names(nutrient) &lt;- tolower(row.names(nutrient)) <span class="comment">##标签转化为小写</span></span><br><span class="line">nutrient.scaled &lt;- scale(nutrient) </span><br><span class="line">d &lt;- dist(nutrient.scaled)</span><br><span class="line">fit.average &lt;- hclust(d, method=<span class="string">"average"</span>)</span><br><span class="line">plot(fit.average, hang=-<span class="number">1</span>, cex=<span class="number">.8</span>, main=<span class="string">"Average Linkage Clustering"</span>)</span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<p>层次聚类实现: <code>hclust</code></p>
<p>&nbsp;</p>
<h3 id="选择聚类的个数"><a href="#选择聚类的个数" class="headerlink" title="选择聚类的个数"></a>选择聚类的个数</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">library</span>(NbClust)</span><br><span class="line">&gt; devAskNewPage(ask=<span class="literal">TRUE</span>)</span><br><span class="line">&gt; nc &lt;- NbClust(nutrient.scaled, distance=<span class="string">"euclidean"</span>, min.nc=<span class="number">2</span>, max.nc=<span class="number">15</span>,    method=<span class="string">"average"</span>) <span class="comment">##distance 计算距离的方法  euclidean欧式距离</span></span><br><span class="line">&gt; table(nc$Best.n[<span class="number">1</span>,])</span><br><span class="line">	<span class="comment">#0 2 3 4 5 9 10 13 14 15</span></span><br><span class="line">	<span class="comment">#2 4 4 3 4 1 1 2 1 4</span></span><br><span class="line">&gt; barplot(table(nc$Best.n[<span class="number">1</span>,]), xlab=<span class="string">"Numer of Clusters"</span>, ylab=<span class="string">"Number of Criteria"</span>,</span><br><span class="line">main=<span class="string">"Number of Clusters Chosen by 26 Criteria"</span>)<span class="comment"># 获取最终的聚类方案</span></span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<h3 id="获取最终的聚类方案"><a href="#获取最终的聚类方案" class="headerlink" title="获取最终的聚类方案"></a>获取最终的聚类方案</h3><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; clusters &lt;- cutree(fit.average, k=<span class="number">5</span>)</span><br><span class="line">&gt; table(clusters)</span><br><span class="line">clusters</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">7</span> <span class="number">16</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line">&gt; aggregate(nutrient, by=list(cluster=clusters), median) <span class="comment">##描述聚类</span></span><br><span class="line">&gt; plot(fit.average, hang=-<span class="number">1</span>, cex=<span class="number">.8</span>, main=<span class="string">"Average Linkage Clustering\n5 Cluster Solution"</span>)</span><br><span class="line">&gt; rect.hclust(fit.average, k=<span class="number">5</span>) <span class="comment">## 结果绘图</span></span><br></pre></td></tr></table></figure>
<p><code>aggregate</code>  Splits the data into subsets, computes summary statistics for each, and returns the result in a convenient form</p>
<p>&nbsp;</p>
<h2 id="划分聚类分析"><a href="#划分聚类分析" class="headerlink" title="划分聚类分析"></a>划分聚类分析</h2><p> K均值和基于中心点的划分（ PAM）</p>
<h3 id="K-均值聚类"><a href="#K-均值聚类" class="headerlink" title="K 均值聚类"></a>K 均值聚类</h3><p>(1) 选择K个中心点（随机选择K行）；</p>
<p>(2) 把每个数据点分配到离它最近的中心点；</p>
<p>(3) 重新计算每类中的点到该类中心点距离的平均值（也就说，得到长度为p的均值向量，这<br>里的p是变量的个数）；</p>
<p>(4) 分配每个数据到它最近的中心点； </p>
<p>(5) 重复步骤(3)和步骤(4)直到所有的观测值不再被分配或是达到最大的迭代次数（ R把10次<br>作为默认迭代次数）。 </p>
<p>&nbsp;</p>
<p>K均值聚类能处理比层次聚类更大的数据集。另外，观测值不会永远被分到一类中。当我们<br>提高整体解决方案时，聚类方案也会改动。但是均值的使用意味着所有的变量必须是连续的，并<br>且这个方法很有可能被异常值影响。它在非凸聚类（例如U型）情况下也会变得很差。 </p>
<p> &nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/面向对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/面向对象/" itemprop="url">面向对象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>####《R语言实战学习笔记》####</p>
<p>R使用对象的类来确定当一个泛型函数被调用时采取什么样的行动 </p>
<p>&nbsp;</p>
<p>为了列出可获得的S3泛型函数，可以使用<code>methods()</code>函数：</p>
<p><img src="https://i.loli.net/2018/12/08/5c0bb9046fda4.jpg" alt></p>
<p>函数去掉括号后可查看函数对应的代码。带星号的不可以用这种方法。但是可以用<code>getAnywhere</code>查看代码</p>
<p>&nbsp;</p>
<p>定义泛型函数</p>
<p><img src="https://i.loli.net/2018/12/08/5c0bbb517fa87.jpg" alt="定义一个泛型函数"></p>
<p>当对象z被分配到两类时➍，第一类用来决定哪个泛型函数被调用。在最后一个例子中➎，没有<code>mymethod.c()</code>函数，因此下一个类（ a）被使用。 R从左到右搜索类的列表，寻找第一个可用的泛型函数。 </p>
<p>S3的局限性：任意的类能被分配到任意的对象上。没有完整性检验 </p>
<p>s4更加正式，更加严格。S4的对象和方法构造在强制执行的规则内被正式定义。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/R语言/高级数据管理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/R语言/高级数据管理/" itemprop="url">高级数据管理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="字符处理函数"><a href="#字符处理函数" class="headerlink" title="字符处理函数"></a>字符处理函数</h2><p>nchar() 计算字符数量</p>
<p>substr(x, start, stop)  提取或替换字符串中的一个子串</p>
<p>grep() 搜素某种模式</p>
<p>sub(pattern, replacement,x,ignore.case=FALSE,fixed=FALSE)</p>
<p>搜索pattern，并用replacement替换</p>
<p>strsplit(x, split,fixed=FALISE)  在split分隔符处分割字符串</p>
<p>paste(x,sep= “”) 连接字符，用分隔符sep</p>
<p>toupper   转大写</p>
<p>tolower 小写转化</p>
<h2 id="数值处理函数"><a href="#数值处理函数" class="headerlink" title="数值处理函数"></a>数值处理函数</h2><p>1、数学函数</p>
<p>2、统计函数</p>
<p>mean median sd </p>
<p>var()–方差</p>
<p>mad–绝对中位数</p>
<p>quantile–求分位数</p>
<p>range–求值域</p>
<p>sum</p>
<p>diff</p>
<p>min max scale()—-标准化</p>
<h2 id="数据的标准化"><a href="#数据的标准化" class="headerlink" title="数据的标准化"></a>数据的标准化</h2><p><strong><em>scale()</em></strong> 对指定列进行均值为0，标准差为1的标准化</p>
<p>对每一列进行标准化</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newdata &lt;- scale(mydata)*SD + M</span><br></pre></td></tr></table></figure>
<p>对指定列进行标准化</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newdata &lt;- transform(mydata, myvar = scale(myvar)*SD + M)</span><br></pre></td></tr></table></figure>
<h2 id="概率函数"><a href="#概率函数" class="headerlink" title="概率函数"></a>概率函数</h2><p><strong><em>set.seed()</em></strong>  显式指定种子，让结果再现</p>
<p><strong><em>runif()</em></strong> 生成从0-1区间上服从均匀分布的伪随机数</p>
<h2 id="其他实用函数"><a href="#其他实用函数" class="headerlink" title="其他实用函数"></a>其他实用函数</h2><p>length()  长度</p>
<p>seq(from,to,by) 生成序列</p>
<p>rep(x,n)  重复</p>
<p>cut() 将连续型数值分割为有n个水平的因子</p>
<p>pretty()  </p>
<p>cat(…,file,append = FALSE) 输出内容到文件file</p>
<p>举例：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">options(digits=<span class="number">2</span>)  <span class="comment">###限定小数点的显示位数</span></span><br><span class="line">Student &lt;- c(<span class="string">"John Davis"</span>, <span class="string">"Angela Williams"</span>, <span class="string">"Bullwinkle Moose"</span>,</span><br><span class="line">             <span class="string">"David Jones"</span>, <span class="string">"Janice Markhammer"</span>, <span class="string">"Cheryl Cushing"</span>,</span><br><span class="line">             <span class="string">"Reuven Ytzrhak"</span>, <span class="string">"Greg Knox"</span>, <span class="string">"Joel England"</span>,</span><br><span class="line">             <span class="string">"Mary Rayburn"</span>)</span><br><span class="line">Math &lt;- c(<span class="number">502</span>, <span class="number">600</span>, <span class="number">412</span>, <span class="number">358</span>, <span class="number">495</span>, <span class="number">512</span>, <span class="number">410</span>, <span class="number">625</span>, <span class="number">573</span>, <span class="number">522</span>)</span><br><span class="line">Science &lt;- c(<span class="number">95</span>, <span class="number">99</span>, <span class="number">80</span>, <span class="number">82</span>, <span class="number">75</span>, <span class="number">85</span>, <span class="number">80</span>, <span class="number">95</span>, <span class="number">89</span>, <span class="number">86</span>)</span><br><span class="line">English &lt;- c(<span class="number">25</span>, <span class="number">22</span>, <span class="number">18</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">28</span>, <span class="number">15</span>, <span class="number">30</span>, <span class="number">27</span>, <span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">roster &lt;- data.frame(Student, Math, Science, English,</span><br><span class="line">                     stringsAsFactors=<span class="literal">FALSE</span>)</span><br><span class="line"></span><br><span class="line">z &lt;- scale(roster[,<span class="number">2</span>:<span class="number">4</span>])</span><br><span class="line">score &lt;- apply(z, <span class="number">1</span>, mean)</span><br><span class="line">roster &lt;- cbind(roster, score)</span><br><span class="line"></span><br><span class="line">y &lt;- quantile(score, c(<span class="number">.8</span>,<span class="number">.6</span>,<span class="number">.4</span>,<span class="number">.2</span>))</span><br><span class="line">roster$grade[score &gt;= y[<span class="number">1</span>]] &lt;- <span class="string">"A"</span></span><br><span class="line">roster$grade[score &lt; y[<span class="number">1</span>] &amp; score &gt;= y[<span class="number">2</span>]] &lt;- <span class="string">"B"</span></span><br><span class="line">roster$grade[score &lt; y[<span class="number">2</span>] &amp; score &gt;= y[<span class="number">3</span>]] &lt;- <span class="string">"C"</span></span><br><span class="line">roster$grade[score &lt; y[<span class="number">3</span>] &amp; score &gt;= y[<span class="number">4</span>]] &lt;- <span class="string">"D"</span></span><br><span class="line">roster$grade[score &lt; y[<span class="number">4</span>]] &lt;- <span class="string">"F"</span></span><br><span class="line"></span><br><span class="line">name &lt;- strsplit((roster$Student), <span class="string">" "</span>)</span><br><span class="line">Lastname &lt;- sapply(name, <span class="string">"["</span>, <span class="number">2</span>)  <span class="comment">#"[" 提取某个对象的一部分</span></span><br><span class="line">Firstname &lt;- sapply(name, <span class="string">"["</span>, <span class="number">1</span>)</span><br><span class="line">roster &lt;- cbind(Firstname,Lastname, roster[,-<span class="number">1</span>])</span><br><span class="line">roster &lt;- roster[order(Lastname,Firstname),]</span><br><span class="line"></span><br><span class="line">roster</span><br></pre></td></tr></table></figure>
<p>sapply()   提取列表中元素</p>
<p>apply的用法</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply(data, MARGIN, FUN) <span class="comment">##MARGIN=1 表示行，=2表示列</span></span><br></pre></td></tr></table></figure>
<h2 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h2><p>while </p>
<p>if</p>
<p>ifelse (cond,statement1,statement2)</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">feelings &lt;- c(<span class="string">"sad"</span>, <span class="string">"afraid"</span>)</span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> feelings)</span><br><span class="line">  print(</span><br><span class="line">    <span class="keyword">switch</span>(i,</span><br><span class="line">           happy  = <span class="string">"I am glad you are happy"</span>,</span><br><span class="line">           afraid = <span class="string">"There is nothing to fear"</span>,</span><br><span class="line">           sad    = <span class="string">"Cheer up"</span>,</span><br><span class="line">           angry  = <span class="string">"Calm down now"</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<h2 id="整合与重构"><a href="#整合与重构" class="headerlink" title="整合与重构"></a>整合与重构</h2><h3 id="转置"><a href="#转置" class="headerlink" title="转置"></a>转置</h3><p>t()</p>
<h2 id="整合"><a href="#整合" class="headerlink" title="整合"></a>整合</h2><p>aggregate（归类）</p>
<h2 id="reshape2包"><a href="#reshape2包" class="headerlink" title="reshape2包"></a>reshape2包</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Using the reshape2 package</span></span><br><span class="line"><span class="keyword">library</span>(reshape2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># input data</span></span><br><span class="line">mydata &lt;- read.table(header=<span class="literal">TRUE</span>, sep=<span class="string">" "</span>, text=<span class="string">"</span></span><br><span class="line"><span class="string">ID Time X1 X2</span></span><br><span class="line"><span class="string">1 1 5 6</span></span><br><span class="line"><span class="string">1 2 3 5</span></span><br><span class="line"><span class="string">2 1 6 1</span></span><br><span class="line"><span class="string">2 2 2 4</span></span><br><span class="line"><span class="string">"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># melt data</span></span><br><span class="line">md &lt;- melt(mydata, id=c(<span class="string">"ID"</span>, <span class="string">"Time"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># reshaping with aggregation</span></span><br><span class="line">dcast(md, ID~variable, mean)</span><br><span class="line">dcast(md, Time~variable, mean)</span><br><span class="line">dcast(md, ID~Time, mean)</span><br><span class="line"></span><br><span class="line"><span class="comment"># reshaping without aggregation</span></span><br><span class="line">dcast(md, ID+Time~variable)</span><br><span class="line">dcast(md, ID+variable~Time)</span><br><span class="line">dcast(md, ID~variable+Time)</span><br></pre></td></tr></table></figure>
<p><code>melt</code> 和 <code>dcast</code></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/27/python学习/pandas drop()不识别columns关键字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="FlorenceXie">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="keep exceeding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/09/27/python学习/pandas drop()不识别columns关键字/" itemprop="url">pandas drop()不识别columns关键字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-09-27T00:00:00+08:00">
                2020-09-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原因是pandas在0.21的版本才加入了columns关键字，在0.20是没有的。</p>
<p>解决：</p>
<p>升级pandas</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">FlorenceXie</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">71</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FlorenceXie</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
